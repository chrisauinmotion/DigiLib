(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(80)},80:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(34),o=a.n(c),l=a(83),i=a(82),s=a(7),u=a(5),h=a(8),m="SEARCH_BOOKS",d="FILTER_BOOKS",p="BOOK_DETAIL",b="CLEAR_DETAIL",f=Object(u.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(h.a)({},e,{list:t.payload,filteredList:t.payload});case d:var a=e.list.data.docs.filter(function(e){return e.title.toLowerCase().indexOf(t.payload.toLowerCase())>-1});return Object(h.a)({},e,{filteredList:Object(h.a)({},e.filteredList,{data:Object(h.a)({},e.filteredList.data,{docs:a})})});case p:return Object(h.a)({},e,{detail:t.payload});case b:return Object(h.a)({},e,{detail:[]});default:return e}}}),y=a(36),v=a.n(y),g=a(81),E=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"landing"},n.a.createElement("div",{className:"landing__text-box"},n.a.createElement("h1",{className:"heading-primary"},n.a.createElement("span",{className:"heading-primary--main"},"Explore"),n.a.createElement("span",{className:"heading-primary--sub"},"the magical world of books")),n.a.createElement(g.a,{to:"/app",className:"btn btn--white btn--animated"},"Your Adventure Awaits"))))},k=a(9),O=a(10),j=a(12),_=a(11),N=a(13),B=a(19),S=a.n(B),C=a(37),w=a(20),F=a.n(w),L="http://openlibrary.org";function x(e,t){e=e.split(" ").reduce(function(e,t,a,r){return a<r.length-1?e+"".concat(t,"+"):e+"".concat(t)},"");var a="author"===t?"".concat(L,"/search.json?author=").concat(e,"&limit=25"):"".concat(L,"/search.json?q=").concat(e,"&limit=3"),r=F.a.get(a).then(function(e){return e});return{type:m,payload:r}}function D(e){return{type:d,payload:e}}function T(e){return A.apply(this,arguments)}function A(){return(A=Object(C.a)(S.a.mark(function e(t){var a,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.slice(0,t.indexOf("+")),a="".concat(L,"/api/books?bibkeys=").concat(t,"&jscmd=details&format=json"),e.next=4,F.a.get(a).then(function(e){return e});case 4:return r=e.sent,e.abrupt("return",{type:p,payload:r.data});case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function I(){return{type:b}}var K=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(j.a)(this,Object(_.a)(t).call(this,e))).searchBooks=function(e){e.preventDefault(),a.props.getBooks(a.state.searchTerm,a.state.searchBy)},a.handleChange=function(e){a.setState({searchTerm:e.target.value}),"filter"===a.state.searchOrFilter&&a.props.filterBooks(e.target.value)},a.changeSearchBy=function(e){a.setState({searchBy:e.target.value,placeholder:"Begin your jorney!"})},a.changeSearchOrFilter=function(e){a.setState({searchOrFilter:e.target.value}),"search"===e.target.value?a.setState({searchSelected:!0,placeholder:"Search by author or title?"}):a.setState({searchSelected:!1,placeholder:"Filter to your heart's desire"})},a.state={searchTerm:"",searchBy:"author",searchOrFilter:"search",searchSelected:!1,placeholder:"Select search or filter"},a}return Object(N.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"main-search"},n.a.createElement("form",{onSubmit:this.searchBooks},n.a.createElement("div",{className:"heading-secondary"},n.a.createElement("input",{type:"radio",id:"search",value:"search",name:"searchOrFilter",onClick:this.changeSearchOrFilter}),n.a.createElement("label",{className:"heading-tertiary",htmlFor:"search"},"\xa0 Search"),"\xa0 or \xa0",n.a.createElement("input",{type:"radio",id:"filter",value:"filter",name:"searchOrFilter",onClick:this.changeSearchOrFilter}),n.a.createElement("label",{className:"heading-tertiary",htmlFor:"filter"},"\xa0 Filter")),n.a.createElement("input",{type:"text",value:this.state.searchTerm,placeholder:this.state.placeholder,onChange:this.handleChange}),this.state.searchSelected&&n.a.createElement("div",{className:"heading-secondary"},"Search by: \xa0",n.a.createElement("input",{type:"radio",id:"author",value:"author",name:"searchBy",onClick:this.changeSearchBy}),n.a.createElement("label",{className:"heading-tertiary",htmlFor:"author"},"\xa0 Author"),"\xa0 Or \xa0",n.a.createElement("input",{type:"radio",id:"title",value:"title",name:"searchBy",onClick:this.changeSearchBy}),n.a.createElement("label",{className:"heading-tertiary",htmlFor:"title"},"\xa0 Title"))))}}]),t}(r.Component);var R=Object(s.b)(null,function(e){return Object(u.b)({getBooks:x,filterBooks:D},e)})(K),J=a(21),P=a.n(J),W=function(e){function t(){return Object(k.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.books.filteredList;return n.a.createElement("section",{className:"book-section"},n.a.createElement("div",{className:"card-container"},e&&e.data.docs.map(function(e){return n.a.createElement("div",{key:P()(),className:"card"},n.a.createElement("div",{className:"card__side card__side--front"},n.a.createElement("img",{className:"card__picture--front",src:"http://covers.openlibrary.org/b/olid/".concat(e.cover_edition_key,"-L.jpg"),alt:"Book Cover for ".concat(e.title," by ").concat(e.author_name)}),n.a.createElement("img",{className:"card__picture--backup",src:"https://storage.googleapis.com/webdesignledger.pub.network/LaT/edd/2016/02/vintage-book-cover-textures-6-780x1176.jpg",alt:"Book Cover for ".concat(e.title," by ").concat(e.author_name)}),n.a.createElement("div",{className:"card__heading"},n.a.createElement("h1",null,e.title),n.a.createElement("h2",null,"By ",e.author_name))),n.a.createElement("div",{className:"card__side card__side--back"},n.a.createElement("img",{className:"card__picture--back",src:"http://covers.openlibrary.org/a/olid/".concat(e.author_key,"-L.jpg"),alt:"Book Cover for ".concat(e.title," by ").concat(e.author_name)}),n.a.createElement("div",{className:"card__btn"},n.a.createElement(g.a,{key:P()(),to:"/book/".concat(e.cover_edition_key,"+").concat(e.author_key[0]),className:"btn btn--grey"},"Book Info"))))})))}}]),t}(r.Component);var q=Object(s.b)(function(e){return{books:e.books}},null)(W),H=function(){return n.a.createElement("div",null,n.a.createElement(R,null),n.a.createElement(q,null))},M=function(e){function t(){return Object(k.a)(this,t),Object(j.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){this.props.bookDetail(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clearDetail()}},{key:"render",value:function(){var e=this.props.books.detail,t=this.props.match.params.id,a=t.indexOf("+"),r=t.slice(0,a);if(e&&e["".concat(r)]){var c=t.slice(a+1);return n.a.createElement("div",{className:"book-detail-container"},n.a.createElement("div",{className:"book-info-box"},n.a.createElement("img",{className:"book-detail-img",src:"http://covers.openlibrary.org/a/olid/".concat(c,"-L.jpg"),alt:"Author"}),n.a.createElement("div",{className:"book-details"},n.a.createElement("h2",null,e["".concat(r)].details.title),n.a.createElement("h4",null,e["".concat(r)].details.by_statement),n.a.createElement("h4",null,"Number of Pages:"," ",e["".concat(r)].details.number_of_pages),n.a.createElement("h4",null,"Publish Date: ",e["".concat(r)].details.publish_date))))}return n.a.createElement("div",null,"Detail")}}]),t}(r.Component);var U=Object(s.b)(function(e){return{books:e.books}},function(e){return Object(u.b)({bookDetail:T,clearDetail:I},e)})(M),Y=Object(u.a)(v.a)(u.d);o.a.render(n.a.createElement(s.a,{store:Y(f)},n.a.createElement(l.a,null,n.a.createElement("div",null,n.a.createElement(i.a,{exact:!0,path:"/",component:E}),n.a.createElement(i.a,{path:"/app",component:H}),n.a.createElement(i.a,{path:"/book/:id",component:U})))),document.getElementById("root"))}},[[39,2,1]]]);
//# sourceMappingURL=main.053fa8c8.chunk.js.map